<!-- app/templates/gastos.html -->
{% extends "layouts/layout.html" %}

{% block body %}
<h1>Registrar Gastos</h1>
<div style="display: flex; align-items: center;">
    <form action="/gastos" method="post" style="display: flex; align-items: center;">
        <input type="date" name="data" required>
        <input type="number" name="valor" required placeholder="Valor">
        <input type="text" name="categoria_nome" required placeholder="Categoria">
        <button type="submit">Adicionar Gasto</button>
    </form>

    <form action="{{ url_for('convert_gasto')}}" method="post" style="margin-left: 10px;">
        <button type="submit">Converter Gasto</button>
    </form>
</div>



{% if gastos|length < 1 %}
<h4>Você ainda não registrou nenhum gasto. Registre um agora!</h4>
{% else %}
<table>
    <tr>
        <th>Data</th>
        {%if exibir_horas %}
            <th>Horas</th>
        {% else %}
            <th>Valor</th>
        {%endif%}
        <th>Categoria</th>
        <th>Ações</th>
    </tr>
    {% for gasto in gastos %}
    <tr>
        <td>{{ gasto.data }}</td>
        {%if exibir_horas %}
            <td>{{ "%.1f"|format((gasto.valor / salario_hora)) }}</td>
        {% else %}
            <td>{{ gasto.valor }}</td>
        {%endif%}
        <td>{{ gasto.categoria_nome }}</td>
        <td>
            <form action="{{ url_for('delete_gasto', gasto_id=gasto.id) }}" method="post" style="display:inline;">
                <button type="submit">Deletar</button>
            </form>
            <form action="{{ url_for('edit_gasto', gasto_id=gasto.id) }}" method="get" style="display:inline;">
                <button type="submit">Editar</button>
            </form>
        </td>
    </tr>
    {% endfor %}
</table>
{% endif %}
{% endblock %}






















